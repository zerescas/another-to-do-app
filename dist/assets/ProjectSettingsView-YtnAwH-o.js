import{d as f,u as v,g,r as h,c as P,a as r,b as s,f as a,F as S,e as c,t as C,i as j,o as d}from"./index-BhN4RD5f.js";import{_ as y,N as B}from"./NavBar-CH7aeHDl.js";import{T as D}from"./ToDoList-DasZH896.js";import{C as N,p as b}from"./CustomColorSelector-1oarpBNo.js";const x={class:"app-layout app-layout--desktop-float"},w={class:"settings-container app-layout--padding"},E={class:"settings-section"},U=s("h2",null,"Settings",-1),V={class:"settings-cards"},F={class:"item-card setting-card column-span-3"},R=s("div",{class:"setting-card-title"},"Color",-1),L={class:"setting-card-value"},M={class:"subitems-section"},$=s("h2",null,"Pinned tasks",-1),q={key:1},O=f({__name:"ProjectSettingsView",setup(z){const l=j().params.id,n=v(),i=g();let t=i.getProject(l);const u=h({color:"projects",customTitle:"Project Edit",customTitleMode:"text",fallbackBackRouteName:"Projects"}),p=P(()=>n.tasks.filter(o=>t==null?void 0:t.value.pinnedTasks.includes(o.id)));function _(e){const o=n.createTask(e);b(o,t==null?void 0:t.value,n,i)}function k(e){t&&(t.value.pinnedTasks=t.value.pinnedTasks.filter(o=>o!==e),n.deleteTask(e))}function T(e){t&&i.updateProject(t==null?void 0:t.value.id,{color:e})}return(e,o)=>(d(),r("div",x,[s("div",w,[a(t)?(d(),r(S,{key:0},[c(y,{settings:{editableContent:!0},toDo:a(t),onUpdateTodo:o[0]||(o[0]=m=>a(t)&&a(i).updateProject(a(t).id,m))},null,8,["toDo"]),s("section",E,[U,s("div",V,[s("div",F,[R,s("div",L,[c(N,{value:a(t).color??"",onInput:T},null,8,["value"])])])])]),s("section",M,[$,c(D,{items:p.value,toDoType:"task",onCreateTodo:_,onUpdateTodo:a(n).updateTask,onDeleteTodo:k},null,8,["items","onUpdateTodo"])])],64)):(d(),r("div",q,"Error: Project with id "+C(a(l))+" doesn't exists",1))]),c(B,{settings:u.value},null,8,["settings"])]))}});export{O as default};
